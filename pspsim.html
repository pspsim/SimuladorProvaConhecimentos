<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Simulador PSP</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f0f0f0; }
  header { background-color: #003366; color: white; position: relative; height: 140px; display: flex; flex-direction: column; justify-content: center; align-items: center; font-weight: bold; overflow: hidden; }
  header .title { font-size: 2.8rem; letter-spacing: 1px; text-transform: uppercase; z-index: 2; }
  header .subtitle { font-size: 1.05rem; font-style: italic; margin-top: 8px; text-align: center; max-width: 90%; z-index: 2; }
  header .stripes { position: absolute; bottom: -60px; right: -20px; width: 240px; height: 300px; transform-origin: bottom right; transform: rotate(17deg); pointer-events: none; background: linear-gradient(to right, #003366 0%, #003366 30%, white 30%, white 38%, #003366 38%, #003366 48%, white 48%, white 55%, #003366 55%, #003366 65%, white 65%, white 72%, #003366 72%, #003366 100%); }
  h2 { margin-top: 30px; color: #003366; border-bottom: 2px solid #003366; padding-bottom: 5px; }
  .question { margin-bottom: 20px; padding: 10px; background: white; border-radius: 5px; }
  .options label { display: block; margin-bottom: 5px; }
  #timer { font-size: 20px; font-weight: bold; text-align: center; margin: 20px 0; }
  #submit { display: block; margin: 20px auto; padding: 10px 20px; font-size: 16px; }
  #result { margin-top: 20px; font-size: 18px; font-weight: bold; text-align: center; }
</style>
</head>
<body>

<header>
  <div class="title">SIMULADOR PSP</div>
  <div class="subtitle">Simulação da Prova de Conhecimentos da Polícia de Segurança Pública</div>
  <div class="stripes"></div>
</header>

<div id="timer">02:00:00</div>
<form id="quizForm"></form>
<button id="submit">Submeter Teste</button>
<div id="result"></div>

<script>
// ===================== ARRAY DE PERGUNTAS =====================
const questionsData = [
  { 
    "id": 1, 
    "topic": "I", 
    "question": "Uma Polícia <b><u>integral</u></b>, <b><u>humana</u></b>, <b><u>forte</u></b>, <b><u>coesa</u></b> e ao serviço do cidadão. As palavras sublinhadas são…", 
    "options": ["sinónimas", "antónimas", "adjetivos", "advérbios"], 
    "correct": "adjetivos" 
  },

  { 
    "id": 2, 
    "topic": "I", 
    "question": "A PSP depende do membro do Governo responsável pela Administração Interna. Qual é o sujeito da frase?", 
    "options": [
      "A PSP...",
      "...pela Administração Interna",
      "…do membro do Governo…",
      "…do membro do Governo responsável pela Administração Interna"
    ], 
    "correct": "A PSP..."
  },

  { 
    "id": 3, 
    "topic": "I", 
    "question": "Qual das seguintes frases não tem erros quanto aos acentos gráficos?", 
    "options": [
      "O policia pára há porta da esquadra", 
      "Na esquadra à diversas valências políciaís", 
      "Há na Polícia oportunidades de carreira", 
      "Todas as hipóteses acima estão erradas"
    ], 
    "correct": "Há na Polícia oportunidades de carreira" 
  },

  { 
    "id": 4, 
    "topic": "II", 
    "question": "Qual das seguintes instituições não é uma força de segurança ou Polícia?", 
    "options": [
      "Polícia de Segurança Pública", 
      "Guarda Nacional Republicana", 
      "Polícia Judiciária", 
      "Serviço de Informações Estratégicas de Defesa"
    ], 
    "correct": "Serviço de Informações Estratégicas de Defesa" 
  },

  { 
    "id": 5, 
    "topic": "II", 
    "question": "Qual dos seguintes crimes é o mais participado em Portugal, segundo o Relatório Anual de Segurança Interna de 2024?", 
    "options": [
      "Estacionamento abusivo", 
      "Violência doméstica", 
      "Homicídio", 
      "Condução de veículos automóveis com velocidade excessiva"
    ], 
    "correct": "Violência doméstica" 
  },

  { 
    "id": 6, 
    "topic": "III", 
    "question": "O processo criminal assegura…", 
    "options": [
      "algumas garantias de defesa, dependendo da capacidade económica dos interessados", 
      "todas as garantias de defesa, incluindo o recurso ao Provedor de Justiça", 
      "todas as garantias de defesa, incluindo o recurso", 
      "todas as garantias, exceto o recurso"
    ], 
    "correct": "todas as garantias de defesa, incluindo o recurso" 
  },

  { 
    "id": 7, 
    "topic": "IV", 
    "question": "A DUDH, concretamente no seu artigo 5.º, proíbe…", 
    "options": [
      "a prisão com culpa formada e tratamentos cruéis, a todos os portugueses de origem ou por adoção", 
      "a tortura, penas ou tratamentos cruéis, desumanos ou degradantes", 
      "penas ou medidas de coação injustas, díspares ou degradantes", 
      "a prisão sem culpa formada e tratamentos cruéis a todos os portugueses, independentemente da idade"
    ], 
    "correct": "a tortura, penas ou tratamentos cruéis, desumanos ou degradantes" 
  },

  { 
    "id": 8, 
    "topic": "V", 
    "question": "De acordo com a Lei Orgânica, a PSP…", 
    "options": [
      "é uma força de segurança de natureza militar, constituída por militares organizados num corpo especial de tropas e dotada de autonomia administrativa", 
      "está organizada hierarquicamente em todos os níveis da sua estrutura, estando o pessoal com funções policiais sujeito à hierarquia de comando e o pessoal sem funções policiais sujeito às regras gerais de hierarquia da função pública", 
      "é um corpo superior de polícia criminal, está organizada hierarquicamente na dependência do Ministério da Justiça, é um serviço central da administração direta do Estado e um órgão de polícia criminal de competência genérica", 
      "está organizada hierarquicamente em todos os níveis da sua estrutura, militarizada, sendo um serviço central do Estado sem autonomia administrativa"
    ], 
    "correct": "está organizada hierarquicamente em todos os níveis da sua estrutura, estando o pessoal com funções policiais sujeito à hierarquia de comando e o pessoal sem funções policiais sujeito às regras gerais de hierarquia da função pública" 
  },

  { 
    "id": 9, 
    "topic": "VI", 
    "question": "Nos termos do artigo 24.º do seu Estatuto, os polícias têm direito à dotação inicial do fardamento no momento do ingresso na PSP. Para efeitos...", 
    "options": [
      "a PSP participa nas despesas com a aquisição de fardamento efetuadas pelos polícias na efetividade de serviço, através da atribuição de uma comparticipação anual no valor de € 600, com a natureza de prestação social, que é assegurada decorridos dois anos sobre a data de ingresso na PSP", 
      "a PSP não participa nas despesas com a aquisição de fardamento efetuadas pelos polícias na efetividade de serviço", 
      "a PSP participa nas despesas com a aquisição de fardamento efetuadas pelos polícias na efetividade de serviço, através da atribuição de uma comparticipação anual no valor de € 600, com a natureza de prestação social, que é assegurada decorridos quatro anos sobre a data de ingresso na PSP", 
      "a PSP participa nas despesas com a aquisição de fardamento efetuadas pelos polícias na efetividade de serviço, através da atribuição de uma comparticipação anual no valor de € 600, com a natureza de prestação social, que é assegurada decorridos quatro anos sobre a data de ingresso na PSP"
    ], 
    "correct": "a PSP participa nas despesas com a aquisição de fardamento efetuadas pelos polícias na efetividade de serviço, através da atribuição de uma comparticipação anual no valor de € 600, com a natureza de prestação social, que é assegurada decorridos dois anos sobre a data de ingresso na PSP" 
  },

  { 
    "id": 10, 
    "topic": "VII", 
    "question": "Qual dos seguintes países pertence à União Europeia?", 
    "options": ["Bélgica", "Ucrânia", "Argélia", "Escócia"], 
    "correct": "Bélgica" 
  },

  { 
    "id": 11, 
    "topic": "I", 
    "question": "Qual das palavras não tem erro ortográfico?", 
    "options": ["Delincuente", "Oblícuo", "Inícuo", "Eloquente"], 
    "correct": "Eloquente" 
  },

  { 
    "id": 12, 
    "topic": "I", 
    "question": "Qual a frase sem erros?", 
    "options": [
      "Faznos falta mais mulheres na Polícia", 
      "O grupo de polícias de remunerado impediram que vandalizassem o autocarro da equipa visitante", 
      "Fize-mos um bom serviço, porém tive-mos de usar a força física", 
      "Soubesse eu mais cedo e tinha concorrido"
    ], 
    "correct": "Soubesse eu mais cedo e tinha concorrido" 
  },

  { 
    "id": 13, 
    "topic": "I", 
    "question": "Qual a frase sem erros?", 
    "options": [
      "O polícia háde encaminhar a vítima com dignidade", 
      "O mais velho trás a espingarda shotgun", 
      "O mais novo condus a viatura policial", 
      "Todas as hipóteses acima estão erradas"
    ], 
    "correct": "Todas as hipóteses acima estão erradas" 
  },

  { 
    "id": 14, 
    "topic": "I", 
    "question": "Qual a frase sem erros?", 
    "options": [
      "Não vos reconhecia", 
      "Eu sabia que te não faria o serviço", 
      "Ele é o indivíduo do qual encaminhei para a casa abrigo", 
      "Se fosse eu, não abordava-os"
    ], 
    "correct": "Não vos reconhecia" 
  },

  { 
    "id": 15, 
    "topic": "I", 
    "question": "Qual a frase cujo verbo está no pretérito perfeito?", 
    "options": [
      "Eu investigava se houvesse denúncia", 
      "O chefe determinou o patrulhamento de visibilidade", 
      "A comandante de esquadra tratava muito bem os agentes", 
      "Os novos carros-patrulha possuem um computador integrado"
    ], 
    "correct": "O chefe determinou o patrulhamento de visibilidade" 
  },

  { 
    "id": 16, 
    "topic": "I", 
    "question": "Qual a frase cujo verbo está no pretérito imperfeito?", 
    "options": [
      "O polícia abordava sempre os suspeitos com urbanidade", 
      "O suspeito tentou abrir as algemas com um clip", 
      "O infrator poderia apresentar reclamação", 
      "Todas estão incorretas"
    ], 
    "correct": "O polícia abordava sempre os suspeitos com urbanidade" 
  },

  { 
    "id": 17, 
    "topic": "I", 
    "question": "Qual das seguintes é uma palavra derivada por sufixação?", 
    "options": ["Descontente", "Primeiramente", "Demente", "Repente"], 
    "correct": "Primeiramente" 
  },

  { 
    "id": 18, 
    "topic": "I", 
    "question": "Qual das seguintes é uma palavra composta?", 
    "options": ["Carro-patrulha", "Megafone", "Superesquadra", "Antibala"], 
    "correct": "Carro-patrulha" 
  },

  { 
    "id": 19, 
    "topic": "I", 
    "question": "Qual das seguintes tem ortografia correta?", 
    "options": [
      "Os polícias obteram a melhor pontuação no campeonato de estrada", 
      "A delegência de busca foi um sucesso", 
      "Aumentou no ultimo recrutamento o numero de policias femeninos", 
      "Os polícias que fizeram segurança pessoal a Sua Santidade são uns privilegiados"
    ], 
    "correct": "Os polícias que fizeram segurança pessoal a Sua Santidade são uns privilegiados" 
  },

  { 
    "id": 20, 
    "topic": "I", 
    "question": "Qual o significado de \"lacuna\"?", 
    "options": ["Semelhante a lago", "Falta, omissão", "Acrescento, apêndice", "Francesismo, que significa lagoa"], 
    "correct": "Falta, omissão" 
  },
  { 
  "id": 21, 
  "topic": "I", 
  "question": "Qual dos seguintes tem ortografia correta?", 
  "options": [
    "Se eu não algema-se ia pôr em risco a nossa segurança", 
    "Autua-se o infrator e notifica-se para comparência na autoridade competente", 
    "Fizes-te bem em apreender o objeto ilícito", 
    "Todas as respostas têm erros"
  ], 
  "correct": "Autua-se o infrator e notifica-se para comparência na autoridade competente" 
},

{ 
  "id": 22, 
  "topic": "I", 
  "question": "“A PSP está organizada <b><u>hierarquicamente</u></b> em todos os níveis da sua estrutura”. Caraterize a palavra sublinhada quanto à classe gramatical.", 
  "options": ["Advérbio", "Verbo", "Adjetivo", "Palavra derivada por prefixação"], 
  "correct": "Advérbio" 
},

{ 
  "id": 23, 
  "topic": "I", 
  "question": "Qual destas frases tem pontuação incorreta?", 
  "options": [
    "De quem é este porta-algemas?", 
    "Conta como fizeste a imobilização do suspeito?", 
    "Vou de férias em julho para um destino de praia.", 
    "Que perseguição policial perigosa!"
  ], 
  "correct": "Conta como fizeste a imobilização do suspeito?" 
},

{ 
  "id": 24, 
  "topic": "II", 
  "question": "Qual o ministério que tem a responsabilidade de formular, conduzir, executar e avaliar as políticas de segurança interna, de controlo de fronteiras, de proteção e socorro, de planeamento civil de emergência, de segurança rodoviária e de administração eleitoral?", 
  "options": [
    "Ministério da Defesa", 
    "Ministério da Administração Interna", 
    "Ministério dos Negócios Estrangeiros", 
    "Ministério da Justiça"
  ], 
  "correct": "Ministério da Administração Interna" 
},

{ 
  "id": 25, 
  "topic": "II", 
  "question": "Qual das seguintes não é uma das nossas forças armadas portuguesas?", 
  "options": ["Marinha", "Exército", "Guarda Costeira", "Força Aérea"], 
  "correct": "Guarda Costeira" 
},

{ 
  "id": 26, 
  "topic": "II", 
  "question": "A quem compete exercer a ação penal, participar na execução da política criminal definida pelos órgãos de soberania, representar o Estado e defender a legalidade democrática e os interesses que a lei determinar?", 
  "options": ["Ministério Público", "Ministério da Administração Interna", "Ministério da Ação Penal", "Ministério da Ação Climática"], 
  "correct": "Ministério Público" 
},

{ 
  "id": 27, 
  "topic": "II", 
  "question": "Quem foi o Presidente da República em Portugal entre 2016 e 2021?", 
  "options": ["Aníbal Cavaco Silva", "António Gueterres", "Marcelo Rebelo de Sousa", "Jorge Sampaio"], 
  "correct": "Marcelo Rebelo de Sousa" 
},

{ 
  "id": 28, 
  "topic": "II", 
  "question": "Qual das seguintes afirmações está incorreta?", 
  "options": ["Jair Bolsonaro foi presidente do Brasil", "José Eduardo dos Santos foi presidente de Angola", "Liz Truss foi presidente do Reino Unido", "Donald Trump é presidente dos Estados Unidos da América"], 
  "correct": "Liz Truss foi presidente do Reino Unido" 
},

{ 
  "id": 29, 
  "topic": "II", 
  "question": "Qual dos seguintes países não foi uma colónia portuguesa?", 
  "options": ["África do Sul", "São Tomé e Príncipe", "Angola", "Moçambique"], 
  "correct": "África do Sul" 
},

{ 
  "id": 30, 
  "topic": "II", 
  "question": "Em que ano se deu a queda do muro de Berlim?", 
  "options": ["1789", "1809", "1989", "2009"], 
  "correct": "1989" 
},

{ 
  "id": 31, 
  "topic": "II", 
  "question": "Qual das seguintes afirmações é falsa?", 
  "options": [
    "A cidade de Torres Novas posiciona-se a oeste da cidade de Portalegre", 
    "A cidade do Porto posiciona-se a leste da cidade de Angra do Heroísmo", 
    "A cidade de Vila Real de Santo António posiciona-se a norte da cidade de Chaves", 
    "A cidade do Funchal posiciona-se a sul da cidade de Ponta Delgada"
  ], 
  "correct": "A cidade de Vila Real de Santo António posiciona-se a norte da cidade de Chaves"
},
{ 
  "id": 32, 
  "topic": "II", 
  "question": "Qual dos seguintes mares banha o continente africano?", 
  "options": [
    "Mar Báltico", 
    "Mar Negro", 
    "Mar das Caraíbas", 
    "Mar Mediterrâneo"
  ], 
  "correct": "Mar Mediterrâneo"
},
{ 
  "id": 33, 
  "topic": "II", 
  "question": "Segundo o Centro Nacional de Cibersegurança, qual das seguintes não é uma boa prática no âmbito da utilização segura dos smartphones?", 
  "options": [
    "Ativar os mecanismos de bloqueio do seu smartphone através de um PIN ou de outra funcionalidade de autenticação", 
    "Evitar ter o bluetooth e a localização do seu smartphone ligados desnecessariamente", 
    "Utilizar uma VPN sempre que se ligar a uma Wi-Fi pública ou então optar por utilizar os dados para aceder à internet em lugares sem Wi-Fi doméstico ou profissional", 
    "Evitar atualizar o sistema e as aplicações"
  ], 
  "correct": "Evitar atualizar o sistema e as aplicações"
},
{ 
  "id": 34, 
  "topic": "II", 
  "question": "Qual dos seguintes autores portugueses tem obras publicadas no presente século?", 
  "options": [
    "António Lobo Antunes", 
    "Eça de Queiroz", 
    "Luís de Camões", 
    "Miguel Torga"
  ], 
  "correct": "António Lobo Antunes"
},
{ 
  "id": 35, 
  "topic": "II", 
  "question": "Qual das seguintes não é uma modalidade desportiva olímpica?", 
  "options": [
    "Skate", 
    "Surf", 
    "Parkour", 
    "BMX Freestyle"
  ], 
  "correct": "Parkour"
},
{ 
  "id": 36, 
  "topic": "II", 
  "question": "A Lei n.º 22/2023, de 25 de maio, conhecida pela 'Lei da Eutanásia', vem…", 
  "options": [
    "regular as condições em que a morte medicamente assistida não é punível, alterando o Código Civil", 
    "regular as condições em que a morte medicamente assistida não é punível, alterando o Código Penal", 
    "regular as condições em que a interrupção voluntária da gravidez não é punível, alterando o Código Penal", 
    "regular as condições em que a interrupção voluntária da gravidez não é punível, alterando a Constituição da República Portuguesa"
  ], 
  "correct": "regular as condições em que a morte medicamente assistida não é punível, alterando o Código Penal"
},
{ 
  "id": 37, 
  "topic": "II", 
  "question": "Segundo o Instituto Nacional de Estatística, Portugal atingiu no passado mês de abril uma taxa de inflação de 7,2%, sendo este o valor mais alto em 29 anos. Essencialmente, podemos entender esta inflação como…", 
  "options": [
    "um aumento geral dos preços dos bens e serviços", 
    "uma diminuição geral dos preços dos bens e serviços", 
    "o incremento do preço cobrado por um empréstimo e o dinheiro que se ganha com um depósito de poupança", 
    "a diminuição do preço cobrado por um empréstimo e o dinheiro que se perde com um depósito de poupança"
  ], 
  "correct": "um aumento geral dos preços dos bens e serviços"
},
{ 
  "id": 38, 
  "topic": "II", 
  "question": "Recep Tayyip Erdogan viu o seu mandato de presidente renovado por cinco anos, na segunda volta das eleições, com 52% dos votos, no mês de maio de 2023. Em que país ocorreram estas eleições?", 
  "options": [
    "Egito", 
    "Irão", 
    "Turquia", 
    "Somália"
  ], 
  "correct": "Turquia"
},
{ 
  "id": 39, 
  "topic": "II", 
  "question": "A Câmara Municipal de Lisboa inaugurou, no mês de maio de 2023, uma estátua em homenagem a Eduardo Lourenço, assinalando os 100 anos do seu nascimento. Em que área do conhecimento se notabilizou Eduardo Lourenço?", 
  "options": [
    "Arquitetura", 
    "Medicina", 
    "Filosofia", 
    "Física"
  ], 
  "correct": "Filosofia"
},
{ 
  "id": 40, 
  "topic": "II", 
  "question": "A Jornada Mundial da Juventude, que este ano ocorrerá em Portugal, é um evento de natureza religiosa, com uma identidade…", 
  "options": [
    "cristã italiana", 
    "islâmica", 
    "judaica", 
    "Todas as opções estão incorretas"
  ], 
  "correct": "Todas as opções estão incorretas"
},
{ "id": 41, "topic": "III", "question": "Têm direito de sufrágio…", "options": ["todos os cidadãos maiores de 18 anos, independentemente das suas capacidades físicas ou mentais", "todos os cidadãos maiores de 21 anos, ressalvadas as capacidades individuais de cada um", "todos os cidadãos maiores de 18 anos, ressalvadas as incapacidades previstas na lei geral", "todos os cidadãos maiores de 16 anos, ressalvadas as incapacidades previstas na lei especial"], "correct": "todos os cidadãos maiores de 18 anos, ressalvadas as incapacidades previstas na lei geral" },

{ "id": 42, "topic": "III", "question": "São órgãos de soberania…", "options": ["o Presidente da República, as assembleias de freguesia, o Governo, as fundações e os tribunais", "o Presidente da República, as assembleias municipais, o Governo e os tribunais", "o Presidente da República, a Assembleia da República, o Governo, as regiões autónomas o e os tribunais", "o Presidente da República, a Assembleia da República, o Governo e os tribunais"], "correct": "o Presidente da República, a Assembleia da República, o Governo e os tribunais" },

{ "id": 43, "topic": "III", "question": "Consideram-se práticas discriminatórias as ações ou omissões em razão do género, credo, nacionalidade ou origem étnica, que recusem ou coloquem em causa…", "options": ["a limitação de acesso aos cuidados de saúde prestados em estabelecimentos de saúde públicos ou privados", "o acesso a locais públicos ou abertos ao público", "a venda, doação ou transação de prédios rústicos ou urbanos", "Todas as afirmações anteriores estão incorretas"], "correct": "Todas as afirmações anteriores estão incorretas" },

{ "id": 44, "topic": "III", "question": "As funções da PSP, previstas no artigo 272.º da CRP, são…", "options": ["defender a legalidade democrática, garantir a segurança interna e os direitos dos cidadãos", "defender a ilegalidade democrática, garantir o Estado de Direito e os direitos das instituições públicas", "manter a ordem e paz públicas e garantir a segurança externa de todos os portugueses", "Todas as afirmações anteriores estão erradas"], "correct": "defender a legalidade democrática, garantir a segurança interna e os direitos dos cidadãos" },

{ "id": 45, "topic": "III", "question": "São símbolos nacionais e língua oficial, de acordo com o artigo 11.º da CRP…", "options": ["o Presidente da República e a Bandeira Nacional, e a língua oficial é o Mirandês", "a Bandeira Nacional e o Hino Nacional, a Portuguesa, e a língua oficial é o Português", "o Presidente da República, o Governo e as regiões autónomas, e a língua oficial é o Português", "o Presidente da Assembleia República, o Governo e os tribunais, e a língua oficial é o Português"], "correct": "a Bandeira Nacional e o Hino Nacional, a Portuguesa, e a língua oficial é o Português" },

{ "id": 46, "topic": "IV", "question": "Todo indivíduo tem direito…", "options": ["à educação, ao desporto e à segurança individual e coletiva", "à vida, à liberdade, à autocracia e à segurança interna e externa", "à vida, à liberdade e à segurança pessoal", "à saúde, ao desporto e à liberdade religiosa."], "correct": "à vida, à liberdade e à segurança pessoal" },

{ "id": 47, "topic": "IV", "question": "Todos os seres humanos nascem…", "options": ["livres e iguais em dignidade e em direitos", "livres e iguais em dignidade e em direitos, exceto os apátridas", "livres e desiguais em dignidade e sobretudo nos direitos económicos e sociais", "livres e desiguais em dignidade e em direitos"], "correct": "livres e iguais em dignidade e em direitos" },

{ "id": 48, "topic": "IV", "question": "É proibido, sob todas as formas…", "options": ["deter as pessoas, privando-as da sua liberdade", "manter as pessoas em escravatura ou em servidão, exceto se for com o seu consentimento", "manter as pessoas em escravatura ou em servidão", "Todas as afirmações anteriores estão incorretas"], "correct": "manter as pessoas em escravatura ou em servidão" },

{ "id": 49, "topic": "IV", "question": "Toda a pessoa acusada de um ato delituoso presume-se…", "options": ["inocente, até que a sua culpabilidade fique legalmente provada no decurso de um processo", "criminoso, até que a sua inocência fique legalmente provada no decurso de um processo público, em que todas as garantias necessárias de defesa lhe sejam asseguradas", "absolvido, até que a sua culpabilidade fique legalmente provada no decurso de um processo particular, em que todas as garantias necessárias de defesa lhe sejam garantidas", "culpado, até que a sua inocência fique legalmente provada no decurso de um processo público, em que todas as garantias necessárias de defesa lhe sejam asseguradas"], "correct": "inocente, até que a sua culpabilidade fique legalmente provada no decurso de um processo" },

{ "id": 50, "topic": "IV", "question": "Toda a pessoa tem direito à liberdade de reunião e de associação pacíficas.", "options": ["Ninguém pode ser obrigado a fazer parte de uma associação, exceto as associações sindicais ou profissionais", "Ninguém pode ser obrigado a fazer parte de uma associação", "Ninguém pode ser obrigado a fazer parte de uma associação, exceto se esta estiver em conformidade com os bons costumes", "Ninguém pode ser obrigado a fazer parte de uma associação, exceto os menores de 18 anos"], "correct": "Ninguém pode ser obrigado a fazer parte de uma associação" },

{ "id": 51, "topic": "V", "question": "Nos termos da sua Lei Orgânica, a PSP tem por missão…", "options": ["assegurar a legalidade democrática, garantir a segurança interna e os direitos dos cidadãos, nos termos da Constituição e da lei", "assegurar a legalidade autocrática, garantir a segurança interna e os direitos dos cidadãos, nos termos da Constituição e da lei", "assegurar a legalidade democrática, garantir a segurança interna, a segurança externa e os direitos dos cidadãos, nos termos da Constituição e da lei", "assegurar a legalidade autocrática, garantir a segurança interna, a segurança externa e os direitos dos cidadãos, nos termos da Constituição e da lei"], "correct": "assegurar a legalidade democrática, garantir a segurança interna e os direitos dos cidadãos, nos termos da Constituição e da lei" },

{ "id": 52, "topic": "V", "question": "Nos termos da sua Lei Orgânica, a PSP depende…", "options": ["do Primeiro-Ministro", "do membro do Governo responsável pela área da justiça", "do membro do Governo responsável pela área da administração interna", "do membro do Governo responsável pela área da defesa nacional"], "correct": "do membro do Governo responsável pela área da administração interna" },

{ "id": 53, "topic": "V", "question": "Em situações de normalidade institucional, as atribuições da PSP são as decorrentes da legislação de segurança interna, nomeadamente da sua Lei Orgânica. Constitui atribuição da PSP…", "options": ["garantir e fiscalizar o cumprimento da lei nas áreas de jurisdição do sistema de autoridade marítima, com vista, nomeadamente, a preservar a regularidade das atividades marítimas", "garantir a ordem e a tranquilidade públicas e a segurança e a proteção das pessoas e dos bens", "prevenir e investigar as infrações tributárias, fiscais e aduaneiras, bem como fiscalizar e controlar a circulação de mercadorias sujeitas à ação tributária, fiscal ou aduaneira", "Todas as afirmações anteriores estão corretas"], "correct": "garantir a ordem e a tranquilidade públicas e a segurança e a proteção das pessoas e dos bens" },

{ "id": 54, "topic": "V", "question": "Nos termos do artigo 17.º da Lei Orgânica da PSP, a sua estrutura geral compreende…", "options": ["os departamentos, os postos e os serviços partilhados", "o Comando-Geral, os serviços administrativos e a Unidade Especial", "a Direção Nacional, as unidades de polícia e os estabelecimentos de ensino policial", "a Direção Nacional, as unidades de polícia e os postos de atendimento"], "correct": "a Direção Nacional, as unidades de polícia e os estabelecimentos de ensino policial" },

{ "id": 55, "topic": "V", "question": "Os estabelecimentos de ensino policial existentes na PSP são…", "options": ["a Escola de Oficiais, a Escola de Chefes e a Escola de Agentes", "a Escola de Oficiais e a Escola Prática de Polícia", "o Instituto Superior de Ciências Policiais e Segurança Interna, a Escola de Chefes e a Escola de Agentes", "o Instituto Superior de Ciências Policiais e Segurança Interna e a Escola Prática de Polícia"], "correct": "o Instituto Superior de Ciências Policiais e Segurança Interna e a Escola Prática de Polícia" },

{ "id": 56, "topic": "V", "question": "Os comandos territoriais da PSP podem ser…", "options": ["comandos regionais, metropolitanos ou distritais", "comandos autónomos, metropolitanos ou zonais", "comandos regionais, urbanos ou rurais", "comandos zonais, metropolitanos ou distritais"], "correct": "comandos regionais, metropolitanos ou distritais" },

{ "id": 57, "topic": "V", "question": "Os comandos metropolitanos de polícia têm sede em…", "options": ["Lisboa, Braga, Coimbra e Porto", "Lisboa e Porto", "Lisboa, Setúbal, Braga e Funchal", "Lisboa, Porto, Faro e Coimbra"], "correct": "Lisboa e Porto" },

{ "id": 58, "topic": "V", "question": "Para efeitos do disposto na Lei Orgânica da PSP, consideram-se unidades de polícia…", "options": ["os comandos territoriais e a Unidade Especial de Polícia", "a Unidade Especial de Polícia, os comandos metropolitanos e os estabelecimentos de ensino policial", "os comandos regionais, os comandos metropolitanos e os comandos distritais da PSP", "a Inspeção, os comandos territoriais, a Unidade Especial de Polícia e o Departamento de Operações"], "correct": "os comandos territoriais e a Unidade Especial de Polícia" },

{ "id": 59, "topic": "V", "question": "Conforme previsto no artigo 12.º da sua Lei Orgânica, a PSP, no âmbito das suas atribuições, utiliza as medidas de polícia…", "options": ["por iniciativa própria dos órgãos de polícia criminal", "por mandado do juiz ou do Ministério Público", "legalmente previstas e nas condições e termos da Constituição e da Lei de Segurança Interna", "por mandado do Juiz de Instrução Criminal para julgamento sob a forma sumária"], "correct": "legalmente previstas e nas condições e termos da Constituição e da Lei de Segurança Interna" },

{ "id": 60, "topic": "V", "question": "Os meios de coerção não podem…", "options": ["deixar de ser apresentados imediatamente, ou no mais curto prazo possível, sem exceder as 48 horas, ao juiz de instrução", "ser usados para além do bom senso do homem médio comum", "ser usados para além do estritamente necessário;", "deixar de ser apresentados imediatamente ao juiz territorialmente competente"], "correct": "ser usados para além do estritamente necessário;" }
];
// ===================== FUNÇÃO PARA EMBARALHAR =====================
function shuffleArray(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// ===================== CRIAR QUIZ =====================
const quizForm = document.getElementById("quizForm");
const timerDiv = document.getElementById("timer");
const submitBtn = document.getElementById("submit");
const resultDiv = document.getElementById("result");

let testQuestions = [];

// Agrupar perguntas por tópico
const topics = {};
questionsData.forEach(q => {
  if (!topics[q.topic]) topics[q.topic] = [];
  topics[q.topic].push(q);
});

// Criar formulário
Object.keys(topics).forEach(topicKey => {
  const topicQuestions = shuffleArray(topics[topicKey]);

  // Título do tópico
  const h2 = document.createElement("h2");
  h2.textContent = `Tópico ${topicKey}`;
  quizForm.appendChild(h2);

  topicQuestions.forEach((q, idx) => {
    const div = document.createElement("div");
    div.className = "question";
    div.style.marginBottom = "15px";

    const p = document.createElement("p");
    p.innerHTML = `${q.id}. ${q.question}`; // numerar a pergunta
    div.appendChild(p);

    // Embaralhar opções (manter "Todas as anteriores" no fim)
    let opts = [...q.options];
    let todasOption;
    const todasIndex = opts.findIndex(o => o.startsWith("Todas"));
    if (todasIndex !== -1) {
      todasOption = opts.splice(todasIndex, 1)[0];
      opts = shuffleArray(opts);
      opts.push(todasOption);
    } else {
      opts = shuffleArray(opts);
    }

    opts.forEach((opt, i) => {
      const label = document.createElement("label"); // etiqueta clicável
      label.style.display = "block";
      label.style.marginBottom = "4px";

      const letra = document.createElement("span");
      letra.textContent = `O ${String.fromCharCode(65 + i)}) `;

      const input = document.createElement("input");
      input.type = "radio";
      input.name = `q${q.id}`; // ✅ usar q.id
      input.value = i;
      input.style.marginLeft = "5px";
      input.style.marginRight = "5px";

      label.appendChild(letra);
      label.appendChild(input);

      const texto = document.createElement("span");
      texto.textContent = opt;
      label.appendChild(texto);

      div.appendChild(label);
    });

    quizForm.appendChild(div);

    testQuestions.push({
      inputName: `q${q.id}`,
      correct: q.correct,
      optionsRendered: opts,
      questionDiv: div
    });
  });
});

// ===================== TIMER =====================
let time = 2 * 60 * 60; // 2 horas
let timerInterval;
function startTimer() {
  timerInterval = setInterval(() => {
    const h = String(Math.floor(time / 3600)).padStart(2, '0');
    const m = String(Math.floor((time % 3600) / 60)).padStart(2, '0');
    const s = String(time % 60).padStart(2, '0');
    timerDiv.textContent = `${h}:${m}:${s}`;
    if (time <= 0) {
      clearInterval(timerInterval);
      submitTest();
    }
    time--;
  }, 1000);
}

// ===================== SUBMETER E CORRIGIR =====================
function submitTest() {
  clearInterval(timerInterval);
  let scoreCount = 0;

  testQuestions.forEach(q => {
    // Limpar feedback antigo
    q.questionDiv.querySelectorAll('.feedback').forEach(f => f.remove());
    q.questionDiv.style.border = "2px solid #ccc";

    const feedback = document.createElement("div");
    feedback.className = "feedback";
    feedback.style.marginTop = "8px";
    feedback.style.fontWeight = "bold";

    const selected = document.querySelector(`input[name="${q.inputName}"]:checked`);
if (selected) {
  const userIndex = parseInt(selected.value);
  const userAnswerText = q.optionsRendered[userIndex]; // pega o texto da opção selecionada

  if (userAnswerText === q.correct) { // compara com o texto certo
    scoreCount++;
    q.questionDiv.style.border = "2px solid green";
    feedback.style.color = "green";
    feedback.textContent = "✔ Resposta correta";
  } else {
    q.questionDiv.style.border = "2px solid red";
    feedback.style.color = "red";
    feedback.innerHTML = `
      ✘ Resposta errada<br>
      A tua resposta: O ${String.fromCharCode(65 + userIndex)}) ${userAnswerText}<br>
      Resposta correta: ${q.correct}
    `;
  }
} else {
  q.questionDiv.style.border = "2px solid orange";
  feedback.style.color = "orange";
  feedback.textContent = "⚠ Pergunta não respondida";
}

    q.questionDiv.appendChild(feedback);
  });

  const finalScore = (scoreCount / testQuestions.length) * 20;
  resultDiv.textContent = `Acertaste ${scoreCount}/${testQuestions.length} perguntas. Nota final: ${finalScore.toFixed(2)}/20`;
}

// ===================== EVENTO SUBMIT =====================
submitBtn.addEventListener("click", e => {
  e.preventDefault();
  submitTest();
});

// ===================== INICIAR =====================
startTimer();
</script>
</body>
</html>